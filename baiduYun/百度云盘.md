![](http://i.imgur.com/5TPwaIt.png)---
title: 百度云盘
date: 2017-7-30 13:09:04
categories: 作品展示-JS
tags: [Cloud storage,Practice,JS,Github]
copyright: true
---

#### 作品名称：百度云盘
[点击此处预览](https://beer-on-ice.github.io/showMyWeb/baiduYun/)，详情请点击阅读全文。

<!--more-->

#####   实现的功能
1.  桌面右键菜单、文件夹右键菜单
2.  文件夹打开
3.  文件夹删除
4.  文件夹排序（名称、时间、类型）
5.  文件夹重命名
6.  文件夹删除后还原
7.  框选、框选后拖拽
8.  文件夹拖拽、移动
9.  文件夹复制
10.  文件夹移动
11.  上传文件
12.  上传文件打开播放
13.  文件夹勾选、全选
14.  文件夹批量删除
15.  登录功能（检测输入是否符合规范）
16.  新建文件夹（重名检测修改）
17.  打开文件夹的路径功能

#####   遇到的较复杂问题
1.  新建的文件夹是通过对对象中添加extname属性，拼接成为新的名字，所以一开始的排序中，有些没有extname的文件排序时，就会导致乱序，在名称和类型排序中均会出现错误。
2.  上传的文件，打开时和普通文件夹一样，进入下层，无法播放媒体文件，打开文本。
3.  框选时，与点击打开冲突。
4.  文件夹复制到、移动到时子级文件不能同步复制过去，即复制过后的文件夹打开是空的。
5.  文件夹勾选、框选、右键过后已选文件夹的数量的同步问题。
6.  重命名时如果修改本身就存在后缀名的，在不改动情况下，会再次添加extname。

##### 对应的解决过程或方法
1.  通过给全部文件以及新增的文件都添加extname，原本不存在的加上空，再在排序时将name和extname合并进行排序。
2.  将上传的文件存放在上传过后添加的对象的newClass中，再在打开时，读取此文件。
3.  取消冒泡已解决。
4.  通过获取该文件下所有的子级文件夹，在复制到或移动到时将所有子级都添加到新数据，并修改对应的id和pid。
5.  通过获取当前有几个文件夹的状态是选中的来确定nub。
6.  将文件的name和extname合并成整体，在进行重名检测。